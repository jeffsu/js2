var text = <<END:jsml
  - for (var i=0; i<this.yo.length; i++) {
    %div= this.yo[i];
  - if (this.hello) {
    %div.yo
      .hello= this.bar
      .world
    %span{ class: 'hello', href: "/" } Hello world
    = this.hello
END

var text2 = <<END:jsml
  %div
    hello
    world
END


js2.test(#(assert) {
  var result   = text.result({ hello:"yo", bar:"foo", yo:['hello', 'world'] });
  var expected = '<div>hello</div><div>world</div><div class="yo"><div class="hello">foo</div><div class="world"></div></div><span class="hello" href="/">Hello world</span>yo'
  assert.eq(expected, result);
  assert.eq('<div>helloworld</div>', text2.result());
});

